{
  "namespace": "crm",
  "globals": {
    "moduleTitles": {
      "registry": "Тех. поддержка",
      "report": "Отчеты"
    },
    "plugins": {
      "actualAclProvider":{
        "module": "core/impl/access/DsAcl",
        "initMethod": "init",
        "initLevel": 1,
        "options":{
          "dataSource": "ion://Db"
        }
      },
      "aclProvider": {
        "module": "core/impl/access/aclMetaMap",
        "initMethod": "init",
        "initLevel": 1,
        "options":{
          "dataRepo": "lazy://dataRepo",
          "acl": "lazy://actualAclProvider",
          "accessManager": "lazy://roleAccessManager"
        }
      },
      "htmlFiles": {
        "module": "core/impl/resource/FsStorage",
        "initMethod":"init",
        "initLevel": 3,
        "options": {
          "storageBase": "./htmlFiles",
          "urlBase": "/htmlFiles",
          "dataSource": "ion://Db",
          "log": "ion://sysLog",
          "app": "ion://application",
          "auth": "ion://auth"
        }
      },
      "imageStorage": {
        "module": "core/impl/resource/ImageStorage",
        "initMethod": "init",
        "initLevel": 3,
        "options": {
          "fileStorage": "ion://htmlFiles",
          "app": "ion://application",
          "auth": "ion://auth",
          "log": "ion://sysLog",
          "urlBase": "/htmlFiles",
          "thumbnails": {
            "small": {
              "width": 750,
              "height": 750
            }
          }
        }
      }
    }
  },
  "deployer": "built-in",
  "modules": {
    "registry": {
      "globals": {
        "defaultImageDir": "images",
        "contentImageStorage": "htmlImages",
        "defaultPath": "crm@task",
        "inlineForm": true,
        "navigation": {
          "namespaces": {
            "crm": "Тех. поддержка"
          },
          "menus": {
            "left": [
              "crm"
            ]
          }
        },
        "templates": [
          "applications/crm/templates/registry"
        ],
        "statics": {
          "crm-static": "applications/crm/templates/registry/static"
        },  
        "createByCopy": [
            "task@crm",
            "telEvent@crm"
        ],
        "di": {
          "dataRepo": {
            "module": "core/impl/datarepository/ionDataRepository",
            "options": {
              "dataSource": "ion://Db",
              "metaRepository": "ion://metaRepo",
              "fileStorage": "ion://fileStorage",
              "imageStorage": "ion://imageStorage",
              "log": "ion://sysLog",
              "keyProvider": {
                "name": "keyProvider",
                "module": "core/impl/meta/keyProvider",
                "options": {
                  "metaRepo": "ion://metaRepo"
                }
              },
              "maxEagerDepth": 4
            }
          }
        }
      }
    },
    "report": {
      "globals": {
        "namespaces": {
          "crm": "CRM"
        },
        "metaNav": {
          "left": []
        },
        "defaultNav": {
          "namespace": "crm",
          "mine": "support",
          "report": "technicalSupport"
        },
        "mineBuilders": {
          "crm": {
            "support": {
              "task": "mineBuilder",
              "support": "mineBuilder",
              "supportScenarioSource": "mineBuilder"
            }
          }
        },
        "di": {
        }
      },
      "import": {
        "src": "applications/crm/bi",
        "namespace": "crm"
      }
    }
  }
}